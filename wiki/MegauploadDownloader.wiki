#summary Bash script to download files from Megaupload

= Introduction =

{{{megaupload-dl}}} downloads files from Megaupload (free download, no account required). It is a shell script, so you will need a UNIX-like operating system (GNU/Linux, BSD, OSX, Cygwin, ...).

This code is licensed under the [http://www.gnu.org/licenses/gpl-3.0-standalone.html GNU/GPL3].

= Dependencies =

You will need _bash_ (>= 3), _curl_, and _recode_. On a Debian-based distro this should suffice:

{{{
# apt-get install curl recode
}}}

= Download & Install ==

[http://tokland.googlecode.com/svn/trunk/filesharing/megaupload-dl.sh megaupload-dl.sh] ([http://code.google.com/p/tokland/source/browse/trunk/filesharing/megaupload-dl.sh details])

{{{
$ wget http://tokland.googlecode.com/svn/trunk/filesharing/megaupload-dl.sh
$ install megaupload-dl.sh /usr/local/bin/megaupload-dl
}}}

= Usage examples =

* Download a single file:
 
{{{
$ megaupload-dl http://megaupload.com/?d=710JVG89
03.Crazy Man Michael.mp3
}}}

* Download a password-protected file:
 
{{{
$ megaupload-dl -p somepassword http://megaupload.com/?d=110JVG89
}}}

* Check if a link is alive:
 
{{{
$ megaupload-dl -c http://megaupload.com/?d=110JVG89
}}}

* Download a list of files:

{{{
$ cat file_with_one_link_per_line.txt | xargs -n1 megaupload-dl
}}}

= Build a safe queue downloader =

Download and install these three scripts: [http://tokland.googlecode.com/svn/trunk/tools/worker.sh worker], [http://tokland.googlecode.com/svn/trunk/tools/loop.sh loop] and [http://tokland.googlecode.com/svn/trunk/filesharing/megaupload-dl-batch.sh megaupload-dl-batch].

{{{
$ megaupload-dl-batch file_with_links.txt
}}}

How it works: {{{worker}}} comments out links in {{{file_with_links.txt}}} with _#_ (if successful) or _#error_ (if unsuccessful), while {{{loop}}} executes {{{worker}}} until it succeeds. This way all links in {{{file_with_links.txt}}} will be eventually downloaded or marked with a non-retryable error.

= Plowshare =

If your only interest is in automatic downloading (or even uploading) from file-sharing sites, you should check [http://code.google.com/p/plowshare/ plowshare]. I am not involved in the project at this moment, but it's still maintained, supports lots of sites, and has much more options.

The goal of this script, on the other hand, is about programming: how to write a minimal shell script to download from MU, with modular, and (hopefully) clean code. If you feel it does not fulfil the goal in any aspect, feel free to contact me!

= Feedback =

 * Email: Arnau Sanchez <tokland AT gmail.com>
 * Report bugs: http://code.google.com/p/tokland/issues/list

= Status =


{{{
revision: r711
date: Tue, 30 Aug 2011 12:31:56 +0200

packages:
  bash: 3.2.39(1)-release
  curl: 7.18.2
  recode: 3.6

megaupload-dl:
  test_0wrong_link: ok
  test_dead_link: ok
  test_download: ok
  test_download_with_resume: ok
  test_link_with_password: ok
  test_link_with_password_but_no_password_provided: ok
  test_link_with_password_but_wrong_password: ok

megaupload-dl-batch:
  test_batch_download: ok
}}}
