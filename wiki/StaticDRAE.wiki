#summary Static DRAE dictionary
#labels Featured

= Introducción =

En este documento mostraremos cómo descargar el diccionario de la DRAE para consultarlo localmente. 

Una de las principales dificultades que nos encontramos es que la lista de palabras que contiene el diccionario no está disponible en formato electrónico. A diferencia de otros diccionarios on-line que muestran las palabras anteriores y posteriores a la que estamos consultando, la [http://buscon.rae.es/draeI/ página web] de la RAE no proporciona esa información.

= Descarga =

  * Lista de palabras (86042 entradas): [http://tokland.googlecode.com/svn/trunk/rae/words.txt words.txt]
  * HTML (un fichero por palabra): [http://tokland.googlecode.com/svn/trunk/rae/drae2.2-html.tgz drae2.2-html.tgz]
  * SQL: [http://tokland.googlecode.com/svn/trunk/rae/drae2.2.sql.gz drae2.2.sql.gz]

= Cómo generar el diccionario =

Para ejecutar los scripts necesitarás un sistema UNIX (ya que usamos scripts Bash), subversión para descargar el código y un intérprete Ruby. Estos son los pasos que debes seguir:

  * Obtener código:

{{{
svn co http://tokland.googlecode.com/svn/trunk/rae rae
}}}

  * Copiar el fichero binario `data/ixLm/_3son.fdt` que forma parte del CD-ROM del DRAE (por cuestions de copyright, ese fichero no se distribuye aquí). Si no tienes el CD, descarga la lista de palabras del repositiorio y sáltate este paso.

{{{
$ cp cd/data/ixLm/_3son.fdt _3son.fdt
}}}

  * Extraer las palabras:

{{{
$ bash extract_words.sh
$ wc -l words.txt # contamos las palabras
}}}

  * Descargar el HTML con la definición de cada palabra:

{{{
$ bash download.sh
}}}

  * Procesar el HTML descargado para quedarnos sólo con la definición. También se ajustan los enlaces para que funcionen cuando se consulten en local.

{{{
$ ruby process_html.rb
}}}

  * Si queremos usar las definiciones en alguna base de datos, generamos el SQL (modificándolo a nuestro gusto).

{{{
$ bash generate_sql.sh
}}}